(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10204,e=>{"use strict";var a=e.i(71866),t=e.i(80744),s=e.i(83388),i=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=e.i(75157);function r({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>r],10204)},41576,e=>{"use strict";var a=e.i(80744);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},15288,e=>{"use strict";var a=e.i(71866),t=e.i(75157);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>r,"CardHeader",()=>i,"CardTitle",()=>l])},71611,e=>{"use strict";"function"==typeof SuppressedError&&SuppressedError;async function a(e,t={},s){return window.__TAURI_INTERNALS__.invoke(e,t,s)}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,e.s(["invoke",()=>a],71611)},29126,56625,e=>{"use strict";var a=e.i(98631);let t=(0,a.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],29126);let s=(0,a.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],56625)},8150,e=>{"use strict";let a=(0,e.i(98631).default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);e.s(["Flame",()=>a],8150)},46639,e=>{"use strict";var a=e.i(71866),t=e.i(80744),s=e.i(71611),i=e.i(43293),l=e.i(8150),r=e.i(29126),n=e.i(56625);let c=(0,e.i(98631).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var d=e.i(15288),o=e.i(19455),h=e.i(80376),u=e.i(93479),m=e.i(10204),x=e.i(67489);function p(){let[e,p]=(0,t.useState)([]),[j,b]=(0,t.useState)(!0),[y,v]=(0,t.useState)(!1),[f,g]=(0,t.useState)({habit_name:"",habit_type:"boolean",habit_description:"",habit_icon_emoji:"✨",habit_color:"#3b82f6",schedule_type:"daily"}),N=async()=>{try{let e=await (0,s.invoke)("get_habits");p(e)}catch(e){console.error("Failed to fetch habits:",e)}finally{b(!1)}};(0,t.useEffect)(()=>{N()},[]);let _=async e=>{e.preventDefault();try{await (0,s.invoke)("create_habit",{input:{...f,habit_description:f.habit_description||null,habit_icon_emoji:f.habit_icon_emoji||null,habit_color:f.habit_color||null}}),v(!1),N()}catch(e){console.error("Failed to create habit:",e)}};return(0,a.jsxs)("div",{className:"p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Habits"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Daily routines and consistency"})]}),(0,a.jsxs)(h.Sheet,{open:y,onOpenChange:v,children:[(0,a.jsx)(h.SheetTrigger,{asChild:!0,children:(0,a.jsxs)(o.Button,{className:"gap-2",children:[(0,a.jsx)(i.Plus,{className:"h-4 w-4"}),"New Habit"]})}),(0,a.jsxs)(h.SheetContent,{className:"sm:max-w-md",children:[(0,a.jsxs)(h.SheetHeader,{children:[(0,a.jsx)(h.SheetTitle,{children:"Create New Habit"}),(0,a.jsx)(h.SheetDescription,{children:"Build a new consistent routine."})]}),(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.Label,{htmlFor:"name",children:"Habit Name"}),(0,a.jsx)(u.Input,{id:"name",required:!0,value:f.habit_name,onChange:e=>g({...f,habit_name:e.target.value}),placeholder:"Morning Meditation..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.Label,{htmlFor:"type",children:"Habit Type"}),(0,a.jsxs)(x.Select,{value:f.habit_type,onValueChange:e=>g({...f,habit_type:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"Select type"})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"boolean",children:"Boolean (Done/Not Done)"}),(0,a.jsx)(x.SelectItem,{value:"quantitative",children:"Quantitative (Numeric)"}),(0,a.jsx)(x.SelectItem,{value:"duration",children:"Duration (Time)"}),(0,a.jsx)(x.SelectItem,{value:"checklist",children:"Checklist"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(u.Input,{id:"description",value:f.habit_description,onChange:e=>g({...f,habit_description:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.Label,{htmlFor:"emoji",children:"Icon Emoji"}),(0,a.jsx)(u.Input,{id:"emoji",value:f.habit_icon_emoji,onChange:e=>g({...f,habit_icon_emoji:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.Label,{htmlFor:"color",children:"Color"}),(0,a.jsx)(u.Input,{id:"color",type:"color",className:"h-10 px-1 py-1",value:f.habit_color,onChange:e=>g({...f,habit_color:e.target.value})})]})]}),(0,a.jsx)(o.Button,{type:"submit",className:"w-full",children:"Create Habit"})]})]})]})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j?Array.from({length:3}).map((e,t)=>(0,a.jsxs)(d.Card,{className:"animate-pulse",children:[(0,a.jsx)(d.CardHeader,{className:"h-24 bg-secondary/50"}),(0,a.jsx)(d.CardContent,{className:"h-12"})]},t)):0===e.length?(0,a.jsxs)("div",{className:"col-span-full h-48 flex flex-col items-center justify-center text-muted-foreground border-2 border-dashed rounded-lg",children:[(0,a.jsx)(c,{className:"h-8 w-8 mb-2 opacity-20"}),(0,a.jsx)("p",{children:"No habits tracked yet. Start build your first one!"})]}):e.map(e=>(0,a.jsxs)(d.Card,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"h-1.5",style:{backgroundColor:e.habit_color||"var(--primary)"}}),(0,a.jsx)(d.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.habit_icon_emoji||"✨"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.CardTitle,{className:"text-lg",children:e.habit_name}),(0,a.jsx)(d.CardDescription,{className:"line-clamp-1 italic text-xs",children:e.habit_description||"No description provided"})]})]}),"healthy"===e.habit_health_status?(0,a.jsx)(r.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(n.AlertCircle,{className:"h-5 w-5 text-yellow-500"})]})}),(0,a.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(l.Flame,{className:"h-4 w-4 text-orange-500"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.streak_current," Day Streak"]})]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:["Best: ",e.streak_longest]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Consistency (30d)"}),(0,a.jsxs)("span",{children:[(100*e.completion_rate_30d).toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 w-full bg-secondary rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${100*e.completion_rate_30d}%`}})})]}),(0,a.jsx)(o.Button,{variant:"outline",className:"w-full h-8 text-sm",children:"Check In"})]})]},e.habit_id))})]})}e.s(["default",()=>p],46639)}]);