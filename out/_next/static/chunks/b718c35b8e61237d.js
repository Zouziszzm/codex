(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45680,e=>{"use strict";let t=(0,e.i(98631).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["Database",()=>t],45680)},5300,e=>{"use strict";let t=(0,e.i(98631).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],5300)},86914,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],86914)},43731,e=>{"use strict";let t=(0,e.i(98631).default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);e.s(["Smile",()=>t],43731)},98227,98281,e=>{"use strict";var t=e.i(98631);let a=(0,t.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],98227);let r=(0,t.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>r],98281)},71611,e=>{"use strict";"function"==typeof SuppressedError&&SuppressedError;async function t(e,a={},r){return window.__TAURI_INTERNALS__.invoke(e,a,r)}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,e.s(["invoke",()=>t],71611)},41576,e=>{"use strict";var t=e.i(80744);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["usePrevious",()=>a])},15288,e=>{"use strict";var t=e.i(71866),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function c({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>c,"CardHeader",()=>s,"CardTitle",()=>l])},84774,e=>{"use strict";var t=e.i(71866),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function s({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...r})}function l({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function c({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function i({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function n({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>l,"TableCell",()=>n,"TableHead",()=>i,"TableHeader",()=>s,"TableRow",()=>c])},16024,e=>{"use strict";let t=(0,e.i(98631).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],16024)},91885,e=>{"use strict";var t=e.i(71866),a=e.i(80744),r=e.i(71611),s=e.i(23276),l=e.i(43293),c=e.i(16024),i=e.i(98631);let n=(0,i.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),d=(0,i.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var o=e.i(5300),x=e.i(43731),h=e.i(86914),p=e.i(45680),u=e.i(98227),m=e.i(98281);let b=(0,i.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),g=(0,i.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var y=e.i(84774),v=e.i(15288),f=e.i(19455),j=e.i(93479),w=e.i(67489),k=e.i(75157);function N(){let e=(0,s.useRouter)(),[i,N]=(0,a.useState)([]),[z,S]=(0,a.useState)(!0),[T,C]=(0,a.useState)(!1),[M,_]=(0,a.useState)(""),[A,H]=(0,a.useState)("all"),[R,I]=(0,a.useState)("all"),[D,E]=(0,a.useState)("desc"),L="2026-01-03",W=async()=>{try{let e=await (0,r.invoke)("get_diary_entries");N(e)}catch(e){console.error("Failed to fetch entries:",e)}finally{S(!1)}},V=async()=>{C(!0);try{await (0,r.invoke)("setup_diary"),await W()}catch(e){console.error("Setup failed:",e)}finally{C(!1)}};(0,a.useEffect)(()=>{V()},[]);let P=(0,a.useMemo)(()=>{let e=i.filter(e=>{let t=(e.title||"").toLowerCase().includes(M.toLowerCase())||e.entry_date.includes(M),a="all"===A||e.mood_label===A,r="all"===R||e.importance_level.toString()===R;return t&&a&&r});return e.sort((e,t)=>{let a=new Date(e.entry_date).getTime(),r=new Date(t.entry_date).getTime();return"desc"===D?r-a:a-r}),e},[i,M,A,R,D]),B=(0,a.useMemo)(()=>{let e=i.reduce((e,t)=>e+t.word_count,0),t=i.filter(e=>e.word_count>0).length,a=t>0?(e/t).toFixed(0):0;return{totalWords:e,completedCount:t,avgWords:a}},[i]);return(0,t.jsxs)("div",{className:"p-10 space-y-10 max-w-7xl mx-auto font-geist",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/10 rounded-full w-fit",children:[(0,t.jsx)(p.Database,{className:"h-3 w-3 text-primary"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"System Calendar Active"})]}),(0,t.jsxs)("h1",{className:"text-5xl font-black tracking-tighter text-zinc-900 uppercase italic",children:["Diary ",(0,t.jsx)("span",{className:"text-zinc-400 not-italic",children:"Archive"})]}),(0,t.jsxs)("p",{className:"text-zinc-500 text-lg font-medium max-w-md",children:["The complete 2026 chronological record. Syncing through ",L,"."]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right pr-4 border-r",children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Sync Status"}),(0,t.jsx)("p",{className:"text-xl font-black text-green-600",children:"LIVE"})]}),(0,t.jsxs)(f.Button,{variant:"outline",className:"h-12 px-6 rounded-xl border-zinc-200 hover:bg-zinc-50 transition-all font-black uppercase tracking-widest text-[10px] gap-2",onClick:V,disabled:T,children:[T?(0,t.jsx)("div",{className:"h-4 w-4 border-2 border-primary border-t-transparent animate-spin rounded-full"}):(0,t.jsx)(m.History,{className:"h-4 w-4"}),"Force Re-Sync"]})]})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-4",children:[{label:"Total Capacity",val:i.length,icon:g,color:"text-zinc-400",desc:"Days in system"},{label:"Active Pages",val:B.completedCount,icon:o.Zap,color:"text-orange-500",desc:"Entries written"},{label:"Volume",val:B.totalWords.toLocaleString(),icon:m.History,color:"text-blue-500",desc:"Words logged"},{label:"Avg Depth",val:B.avgWords,icon:x.Smile,color:"text-primary",desc:"Words per page"}].map((e,a)=>(0,t.jsxs)(v.Card,{className:"border-none bg-zinc-50 shadow-sm relative overflow-hidden",children:[(0,t.jsxs)(v.CardHeader,{className:"pb-2",children:[(0,t.jsx)(v.CardDescription,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:e.label}),(0,t.jsx)(v.CardTitle,{className:"text-3xl font-black",children:e.val})]}),(0,t.jsx)(v.CardContent,{children:(0,t.jsx)("p",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-widest mt-1",children:e.desc})})]},a))}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 p-6 bg-zinc-900 rounded-3xl text-white",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(c.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-500"}),(0,t.jsx)(j.Input,{placeholder:"Search dates, IDs, or titles...",className:"pl-12 h-14 bg-zinc-800 border-none text-white placeholder:text-zinc-500 rounded-2xl focus-visible:ring-primary/50",value:M,onChange:e=>_(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(w.Select,{value:A,onValueChange:H,children:[(0,t.jsx)(w.SelectTrigger,{className:"w-40 h-14 bg-zinc-800 border-none rounded-2xl font-black uppercase text-[10px] tracking-widest",children:(0,t.jsx)(w.SelectValue,{placeholder:"Mood"})}),(0,t.jsxs)(w.SelectContent,{className:"bg-zinc-900 text-white border-zinc-800",children:[(0,t.jsx)(w.SelectItem,{value:"all",children:"All Moods"}),(0,t.jsx)(w.SelectItem,{value:"Stable",children:"Stable"}),(0,t.jsx)(w.SelectItem,{value:"Focused",children:"Focused"}),(0,t.jsx)(w.SelectItem,{value:"Tired",children:"Tired"}),(0,t.jsx)(w.SelectItem,{value:"Energetic",children:"Energetic"})]})]}),(0,t.jsxs)(w.Select,{value:R,onValueChange:I,children:[(0,t.jsx)(w.SelectTrigger,{className:"w-40 h-14 bg-zinc-800 border-none rounded-2xl font-black uppercase text-[10px] tracking-widest",children:(0,t.jsx)(w.SelectValue,{placeholder:"Priority"})}),(0,t.jsxs)(w.SelectContent,{className:"bg-zinc-900 text-white border-zinc-800",children:[(0,t.jsx)(w.SelectItem,{value:"all",children:"All Priority"}),(0,t.jsx)(w.SelectItem,{value:"0",children:"Normal"}),(0,t.jsx)(w.SelectItem,{value:"1",children:"High"}),(0,t.jsx)(w.SelectItem,{value:"2",children:"Critical"})]})]}),(0,t.jsx)(f.Button,{variant:"ghost",className:"h-14 w-14 rounded-2xl bg-zinc-800 hover:bg-zinc-700 hover:text-white",onClick:()=>E("desc"===D?"asc":"desc"),children:(0,t.jsx)(n,{className:(0,k.cn)("h-6 w-6 transition-transform","asc"===D&&"rotate-180")})})]})]}),(0,t.jsx)("div",{className:"rounded-[2.5rem] border border-zinc-100 bg-white shadow-2xl shadow-zinc-200/50 overflow-hidden",children:(0,t.jsxs)(y.Table,{children:[(0,t.jsx)(y.TableHeader,{className:"bg-zinc-50/50",children:(0,t.jsxs)(y.TableRow,{className:"hover:bg-transparent border-zinc-100",children:[(0,t.jsx)(y.TableHead,{className:"w-[180px] font-black text-[10px] uppercase tracking-[0.2em] text-zinc-400 pl-10 h-16",children:"Entry Point"}),(0,t.jsx)(y.TableHead,{className:"font-black text-[10px] uppercase tracking-[0.2em] text-zinc-400",children:"System Identity"}),(0,t.jsx)(y.TableHead,{className:"font-black text-[10px] uppercase tracking-[0.2em] text-zinc-400",children:"Metrics"}),(0,t.jsx)(y.TableHead,{className:"font-black text-[10px] uppercase tracking-[0.2em] text-zinc-400",children:"Status"}),(0,t.jsx)(y.TableHead,{className:"w-[100px]"})]})}),(0,t.jsx)(y.TableBody,{children:z?Array.from({length:10}).map((e,a)=>(0,t.jsx)(y.TableRow,{className:"h-24",children:(0,t.jsx)(y.TableCell,{colSpan:5,className:"px-10",children:(0,t.jsx)("div",{className:"h-4 bg-zinc-50 rounded animate-pulse w-full"})})},a)):0===P.length?(0,t.jsx)(y.TableRow,{className:"h-96",children:(0,t.jsx)(y.TableCell,{colSpan:5,className:"text-center font-black uppercase text-zinc-300 tracking-[0.5em]",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)(p.Database,{className:"h-12 w-12 opacity-10"}),"Query Result: Empty"]})})}):P.map(a=>{let r=new Date(a.entry_date)>new Date(L);return(0,t.jsxs)(y.TableRow,{className:"group h-24 hover:bg-zinc-50/80 cursor-pointer transition-all border-zinc-100",onClick:()=>{var t;return t=a.diary_entry_id,void e.push(`/diary/editor?id=${t}`)},children:[(0,t.jsx)(y.TableCell,{className:"pl-10",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:(0,k.cn)("h-10 w-10 rounded-xl flex items-center justify-center border transition-colors",r?"bg-zinc-50 border-zinc-100":"bg-primary/5 border-primary/10 group-hover:bg-primary group-hover:text-white group-hover:border-primary"),children:(0,t.jsx)(g,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"font-mono text-[11px] font-black uppercase text-zinc-400",children:a.entry_date})]})}),(0,t.jsx)(y.TableCell,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:(0,k.cn)("font-black text-xl tracking-tighter truncate max-w-md transition-colors",r?"text-zinc-300":"text-zinc-900 group-hover:text-primary"),children:a.title||"Untethered Fragment"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[a.mood_label&&(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-zinc-100 rounded-md text-[9px] font-black uppercase text-zinc-500 tracking-widest",children:[(0,t.jsx)(x.Smile,{className:"h-3 w-3"}),a.mood_label]}),(0,t.jsxs)("span",{className:"text-[9px] font-black uppercase text-zinc-400 tracking-widest",children:[a.word_count," Words logged"]})]})]})}),(0,t.jsx)(y.TableCell,{children:(0,t.jsx)("div",{className:"flex gap-1.5",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)("div",{className:(0,k.cn)("h-1 w-4 rounded-full transition-all duration-500",r<(a.mood_rating||0)?"bg-primary group-hover:scale-x-125":"bg-zinc-100")},r))})}),(0,t.jsx)(y.TableCell,{children:r?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-zinc-50 text-zinc-400 rounded-full border border-zinc-100 w-fit",children:[(0,t.jsx)(u.Lock,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Locked"})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-50 text-green-700 rounded-full border border-green-100 w-fit",children:[(0,t.jsx)(l.Plus,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Active"})]})}),(0,t.jsx)(y.TableCell,{className:"pr-10 text-right",children:(0,t.jsx)(h.ChevronRight,{className:"h-6 w-6 text-zinc-300 group-hover:text-primary group-hover:translate-x-2 transition-all opacity-0 group-hover:opacity-100"})})]},a.diary_entry_id)})})]})}),(0,t.jsxs)("div",{className:"p-8 bg-zinc-50 rounded-[2rem] border border-zinc-100 flex items-center justify-between group cursor-help transition-all hover:bg-white hover:shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-white border border-zinc-200 flex items-center justify-center shadow-sm",children:(0,t.jsx)(b,{className:"h-7 w-7 text-zinc-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl font-black tracking-tight uppercase",children:"Nested Records"}),(0,t.jsx)("p",{className:"text-zinc-500 text-sm font-medium",children:"To add sub-pages, enter a primary record and use the Studio controls."})]})]}),(0,t.jsx)(d,{className:"h-8 w-8 text-zinc-200 group-hover:text-primary transition-colors"})]})]})}e.s(["default",()=>N],91885)}]);